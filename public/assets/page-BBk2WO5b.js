import{Card as e,CardContent as t,CardDescription as n,CardFooter as r,CardHeader as i,CardTitle as a,Input as o,Label as s,Link as c,LoadingButton as l,PasswordInput as u,__toESM as d,handleApiError as f,require_jsx_runtime as p,useLoginMutation as m,useNavigate as h,useSearchParams as g}from"./index-OmLcTgDE.js";var _=d(p());function v(){let d=h(),[p]=g(),[v,{isLoading:y}]=m(),b=p.get(`return_to`);function x(e){e.preventDefault();let t=e.currentTarget,n=t.email_address.value,r=t.password.value;v({email_address:n,password:r}).unwrap().then(e=>{if(b){d(b);return}switch(e.user.role){case`admin`:d(`/crm`,{replace:!0});break;case`manager`:d(`/crm`,{replace:!0});break;case`customer`:d(`/account`,{replace:!0});break;default:d(`/`,{replace:!0});break}}).catch(e=>{f(e)})}return(0,_.jsxs)(e,{className:`mx-auto w-full`,children:[(0,_.jsxs)(i,{children:[(0,_.jsx)(a,{className:`text-2xl`,children:`Login`}),(0,_.jsx)(n,{children:`Enter your email below to login to your account.`})]}),(0,_.jsx)(t,{children:(0,_.jsxs)(`form`,{className:`grid gap-4`,onSubmit:x,children:[(0,_.jsxs)(`div`,{className:`grid gap-2`,children:[(0,_.jsx)(s,{htmlFor:`email_address`,children:`Email`}),(0,_.jsx)(o,{id:`email_address`,type:`email`,placeholder:`m@example.com`,defaultValue:`frunza.sergiu3@gmail.com`,required:!0,autoComplete:`email`,name:`email_address`})]}),(0,_.jsxs)(`div`,{className:`grid gap-2`,children:[(0,_.jsx)(s,{htmlFor:`password`,children:`Password`}),(0,_.jsx)(u,{id:`password`,defaultValue:`111111`,required:!0})]}),(0,_.jsx)(r,{className:`border-t p-0`,children:(0,_.jsx)(l,{loading:y,disabled:y,className:`w-full`,type:`submit`,children:`Login`})}),(0,_.jsx)(`div`,{className:`text-sm`,children:(0,_.jsx)(c,{to:`/auth/forgot-password`,className:`ml-auto inline-block text-sm underline`,children:`Forgot your password?`})})]})})]})}function y(){return(0,_.jsx)(v,{})}const b=y;export{b as Component};