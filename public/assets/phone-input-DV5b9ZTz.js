import{FIRST_GROUP_PATTERN as e,Metadata as t,PLUS_CHARS as n,PhoneNumber as r,VALID_DIGITS as i,VALID_PUNCTUATION as a,__toESM as o,applyInternationalSeparatorStyle as s,checkNumberLength as c,cn as l,extractCountryCallingCode as u,extractCountryCallingCodeFromInternationalNumberWithoutPlusSign as d,extractNationalNumberFromPossiblyIncompleteNumber as f,formatNationalNumberUsingFormat as p,getCountryByCallingCode as m,getCountryByNationalNumber as h,isObject as g,metadata_min_json_default as ee,normalizeArguments as te,parseDigits as _,parsePhoneNumber as v,require_jsx_runtime as ne,stripIddPrefix as re,withMetadataArgument as ie}from"./index-BpPvn16n.js";function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?y(Object(n),!0).forEach(function(t){ae(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(){var e=te(arguments),t=e.text,n=e.options,r=e.metadata;n=b(b({},n),{},{extract:!1});var i=v(t,n,r);return i&&i.isValid()||!1}function x(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}var ce=function(){function e(t){var n=t.onCountryChange,r=t.onCallingCodeChange;x(this,e),this.onCountryChange=n,this.onCallingCodeChange=r}return se(e,[{key:`reset`,value:function(e){var t=e.country,n=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits=``,this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,n)}},{key:`resetNationalSignificantNumber`,value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:`update`,value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this[r]=e[r]}}},{key:`initCountryAndCallingCode`,value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:`setCountry`,value:function(e){this.country=e,this.onCountryChange(e)}},{key:`setCallingCode`,value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:`startInternationalNumber`,value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:`appendDigits`,value:function(e){this.digits+=e}},{key:`appendNationalSignificantNumberDigits`,value:function(e){this.nationalSignificantNumber+=e}},{key:`getNationalDigits`,value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:`getDigitsWithoutInternationalPrefix`,value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}]),e}();function le(e,t){var n=typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ue(e))||t&&e&&typeof e.length==`number`){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(e,t){if(e){if(typeof e==`string`)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}}function C(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=`x`,T=new RegExp(w);function E(e,t){if(t<1)return``;for(var n=``;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function D(e,t){return e[t]===`)`&&t++,de(e.slice(0,t))}function de(e){for(var t=[],n=0;n<e.length;)e[n]===`(`?t.push(n):e[n]===`)`&&t.pop(),n++;var r=0,i=``;t.push(e.length);for(var a=0,o=t;a<o.length;a++){var s=o[a];i+=e.slice(r,s),r=s+1}return i}function fe(e,t,n){for(var r=le(n.split(``)),i;!(i=r()).done;){var a=i.value;if(e.slice(t+1).search(T)<0)return;t=e.search(T),e=e.replace(T,a)}return[e,t]}function pe(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,o=RegExp(`^(?:${t.pattern()})$`);if(o.test(e.nationalSignificantNumber))return he(e,t,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:a})}function me(e,t){return c(e,t)===`IS_POSSIBLE`}function he(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,o=e.nationalSignificantNumber,s=e.international,c=e.nationalPrefix,l=e.carrierCode;if(i(t)){var u=O(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:a,metadata:r});if(u)return u}return O(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:a,metadata:r})}function O(e,t,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,o=p(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:i,metadata:r});if(i||(e.nationalPrefix?o=e.nationalPrefix+a(t)+o:e.complexPrefixBeforeNationalSignificantNumber&&(o=e.complexPrefixBeforeNationalSignificantNumber+` `+o)),ge(o,e))return o}function ge(e,t){return _(e)===t.getNationalDigits()}function _e(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}var A=function(){function e(){_e(this,e)}return ve(e,[{key:`parse`,value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),this.context.length!==1)throw Error(`Non-finalized contexts left when pattern parse ended`);var t=this.context[0],n=t.branches,r=t.instructions;if(n)return{op:`|`,args:n.concat([P(r)])};if(r.length===0)throw Error(`Pattern is required`);return r.length===1?r[0]:r}},{key:`startContext`,value:function(e){this.context.push(e)}},{key:`endContext`,value:function(){this.context.pop()}},{key:`getContext`,value:function(){return this.context[this.context.length-1]}},{key:`parsePattern`,value:function(e){if(!e)throw Error(`Pattern is required`);var t=e.match(N);if(!t){if(M.test(e))throw Error(`Illegal characters found in a pattern: ${e}`);this.getContext().instructions=this.getContext().instructions.concat(e.split(``));return}var n=t[1],r=e.slice(0,t.index),i=e.slice(t.index+n.length);switch(n){case`(?:`:r&&this.parsePattern(r),this.startContext({or:!0,instructions:[],branches:[]});break;case`)`:if(!this.getContext().or)throw Error(`")" operator must be preceded by "(?:" operator`);if(r&&this.parsePattern(r),this.getContext().instructions.length===0)throw Error(`No instructions found after "|" operator in an "or" group`);var a=this.getContext(),o=a.branches;o.push(P(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:`|`,args:o});break;case`|`:if(!this.getContext().or)throw Error(`"|" operator can only be used inside "or" groups`);if(r&&this.parsePattern(r),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw Error(`"branches" not found in an "or" group context`);this.getContext().branches.push(P(this.getContext().instructions)),this.getContext().instructions=[];break;case`[`:r&&this.parsePattern(r),this.startContext({oneOfSet:!0});break;case`]`:if(!this.getContext().oneOfSet)throw Error(`"]" operator must be preceded by "[" operator`);this.endContext(),this.getContext().instructions.push({op:`[]`,args:j(r)});break;default:throw Error(`Unknown operator: ${n}`)}i&&this.parsePattern(i)}}]),e}();function j(e){for(var t=[],n=0;n<e.length;){if(e[n]===`-`){if(n===0||n===e.length-1)throw Error(`Couldn't parse a one-of set pattern: ${e}`);for(var r=e[n-1].charCodeAt(0)+1,i=e[n+1].charCodeAt(0)-1,a=r;a<=i;)t.push(String.fromCharCode(a)),a++}else t.push(e[n]);n++}return t}var M=/[\(\)\[\]\?\:\|]/,N=RegExp(`(\\||\\(\\?\\:|\\)|\\[|\\])`);function P(e){return e.length===1?e[0]:e}function F(e,t){var n=typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ye(e))||t&&e&&typeof e.length==`number`){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ye(e,t){if(e){if(typeof e==`string`)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}}function I(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}var Se=function(){function e(t){be(this,e),this.matchTree=new A().parse(t)}return xe(e,[{key:`match`,value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.allowOverflow;if(!e)throw Error(`String is required`);var r=R(e.split(``),this.matchTree,!0);if(r&&r.match&&delete r.matchedChars,!(r&&r.overflow&&!n))return r}}]),e}();function R(e,t,n){if(typeof t==`string`){var r=e.join(``);return t.indexOf(r)===0?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:r.indexOf(t)===0?n&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var i=e.slice(),a=0;a<t.length;){var o=t[a],s=R(i,o,n&&a===t.length-1);if(s){if(s.overflow)return s;if(s.match){if(i=i.slice(s.matchedChars.length),i.length===0)return a===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else if(s.partialMatch)return{partialMatch:!0};else throw Error(`Unsupported match result:
${JSON.stringify(s,null,2)}`)}else return;a++}return n?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-i.length)}}switch(t.op){case`|`:for(var c,l=F(t.args),u;!(u=l()).done;){var d=u.value,f=R(e,d,n);if(f){if(f.overflow)return f;if(f.match)return{match:!0,matchedChars:f.matchedChars};if(f.partialMatch)c=!0;else throw Error(`Unsupported match result:
${JSON.stringify(f,null,2)}`)}}return c?{partialMatch:!0}:void 0;case`[]`:for(var p=F(t.args),m;!(m=p()).done;){var h=m.value;if(e[0]===h)return e.length===1?{match:!0,matchedChars:e}:n?{overflow:!0}:{match:!0,matchedChars:[h]}}return;default:throw Error(`Unsupported instruction tree: ${t}`)}}function z(e,t){var n=typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Ce(e))||t&&e&&typeof e.length==`number`){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(e,t){if(e){if(typeof e==`string`)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}}function B(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}var H=`9`,Ee=15,De=E(H,Ee),Oe=/[- ]/,U=!0,ke=U&&function(){return/\[([^\[\]])*\]/g},Ae=U&&function(){return/\d(?=[^,}][^,}])/g},je=RegExp(`[`+a+`]*\\$1[`+a+`]*(\\$\\d[`+a+`]*)*$`),W=3,Me=function(){function t(e){var n=e.state,r=e.metadata;we(this,t),this.metadata=r,this.resetFormat()}return Te(t,[{key:`resetFormat`,value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:`reset`,value:function(e,t){this.resetFormat(),e?(this.isNANP=e.callingCode()===`1`,this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:`format`,value:function(e,t){var n=this;if(me(t.nationalSignificantNumber,this.metadata))for(var r=z(this.matchingFormats),i;!(i=r()).done;){var a=i.value,o=pe(t,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return n.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return n.getSeparatorAfterNationalPrefix(e)}});if(o)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(o.replace(/\d/g,w),t),this.populatedNationalNumberTemplate=o,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(w),o}return this.formatNationalNumberWithNextDigits(e,t)}},{key:`formatNationalNumberWithNextDigits`,value:function(e,t){var n=this.chosenFormat,r=this.chooseFormat(t);if(r)return r===n?this.formatNextNationalNumberDigits(e):this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:`narrowDownMatchingFormats`,value:function(e){var t=this,n=e.nationalSignificantNumber,r=e.nationalPrefix,i=e.international,a=n,o=a.length-W;o<0&&(o=0),this.matchingFormats=this.matchingFormats.filter(function(e){return t.formatSuits(e,i,r)&&t.formatMatches(e,a,o)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:`formatSuits`,value:function(e,t,n){return!(n&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!t&&!n&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:`formatMatches`,value:function(e,t,n){var r=e.leadingDigitsPatterns().length;if(r===0)return!0;n=Math.min(n,r-1);var i=e.leadingDigitsPatterns()[n];if(t.length<W)try{return new Se(i).match(t,{allowOverflow:!0})!==void 0}catch(e){return console.error(e),!0}return RegExp(`^(${i})`).test(t)}},{key:`getFormatFormat`,value:function(e,t){return t?e.internationalFormat():e.format()}},{key:`chooseFormat`,value:function(e){for(var t=this,n=function(){var n=i.value;return t.chosenFormat===n?`break`:je.test(t.getFormatFormat(n,e.international))?t.createTemplateForFormat(n,e)?(t.chosenFormat=n,`break`):(t.matchingFormats=t.matchingFormats.filter(function(e){return e!==n}),`continue`):`continue`},r=z(this.matchingFormats.slice()),i;!(i=r()).done;){var a=n();if(a===`break`)break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:`createTemplateForFormat`,value:function(e,t){if(!(U&&e.pattern().indexOf(`|`)>=0)){var n=this.getTemplateForFormat(e,t);if(n)return this.setNationalNumberTemplate(n,t),!0}}},{key:`getSeparatorAfterNationalPrefix`,value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&Oe.test(e.nationalPrefixFormattingRule())?` `:``}},{key:`getInternationalPrefixBeforeCountryCallingCode`,value:function(e,t){var n=e.IDDPrefix,r=e.missingPlus;return n?t&&t.spacing===!1?n:n+` `:r?``:`+`}},{key:`getTemplate`,value:function(e){if(this.template){for(var t=-1,n=0,r=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):``;n<r.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf(w,t+1),n++;return D(this.template,t+1)}}},{key:`setNationalNumberTemplate`,value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,w)+E(w,t.callingCode.length)+` `+e:this.template=e}},{key:`getTemplateForFormat`,value:function(t,n){var r=n.nationalSignificantNumber,i=n.international,a=n.nationalPrefix,o=n.complexPrefixBeforeNationalSignificantNumber,c=t.pattern();U&&(c=c.replace(ke(),`\\d`).replace(Ae(),`\\d`));var l=De.match(c)[0];if(!(r.length>l.length)){var u=RegExp(`^`+c+`$`),d=r.replace(/\d/g,H);u.test(d)&&(l=d);var f=this.getFormatFormat(t,i),p;if(this.shouldTryNationalPrefixFormattingRule(t,{international:i,nationalPrefix:a})){var m=f.replace(e,t.nationalPrefixFormattingRule());if(_(t.nationalPrefixFormattingRule())===(a||``)+_(`$1`)&&(f=m,p=!0,a))for(var h=a.length;h>0;)f=f.replace(/\d/,w),h--}var g=l.replace(new RegExp(c),f).replace(new RegExp(H,`g`),w);return p||(o?g=E(w,o.length)+` `+g:a&&(g=E(w,a.length)+this.getSeparatorAfterNationalPrefix(t)+g)),i&&(g=s(g)),g}}},{key:`formatNextNationalNumberDigits`,value:function(e){var t=fe(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);if(!t){this.resetFormat();return}return this.populatedNationalNumberTemplate=t[0],this.populatedNationalNumberTemplatePosition=t[1],D(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:`shouldTryNationalPrefixFormattingRule`,value:function(e,t){var n=t.international,r=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){var i=e.usesNationalPrefix();if(i&&r||!i&&!n)return!0}}}]),t}();function G(e,t){return Ie(e)||Fe(e,t)||Pe(e,t)||Ne()}function Ne(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pe(e,t){if(e){if(typeof e==`string`)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}}function K(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(e){a=!0,s=e}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function Ie(e){if(Array.isArray(e))return e}function Le(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return t&&q(e.prototype,t),n&&q(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}var ze=`[`+a+i+`]+`,Be=RegExp(`^`+ze+`$`,`i`),Ve=`(?:[`+n+`][`+a+i+`]*|[`+a+i+`]+)`,He=RegExp(`[^`+a+i+`]+.*$`),Ue=/[^\d\[\]]/,We=function(){function e(t){var n=t.defaultCountry,r=t.defaultCallingCode,i=t.metadata,a=t.onNationalSignificantNumberChange;Le(this,e),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=a}return Re(e,[{key:`input`,value:function(e,t){var n=qe(e),r=G(n,2),i=r[0],a=r[1],o=_(i),s;return a&&(t.digits||(t.startInternationalNumber(),o||(s=!0))),o&&this.inputDigits(o,t),{digits:o,justLeadingPlus:s}}},{key:`inputDigits`,value:function(e,t){var n=t.digits,r=n.length<3&&n.length+e.length>=3;if(t.appendDigits(e),r&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),function(e){return t.update(e)})}},{key:`isWaitingForCountryCallingCode`,value:function(e){var t=e.international,n=e.callingCode;return t&&!n}},{key:`extractCountryCallingCode`,value:function(e){var t=u(`+`+e.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode,r=t.number;if(n)return e.setCallingCode(n),e.update({nationalSignificantNumber:r}),!0}},{key:`reset`,value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var t=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=t&&Ue.test(t)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:`extractNationalSignificantNumber`,value:function(e,t){if(this.hasSelectedNumberingPlan){var n=f(e,this.metadata),r=n.nationalPrefix,i=n.nationalNumber,a=n.carrierCode;if(i!==e)return this.onExtractedNationalNumber(r,a,i,e,t),!0}}},{key:`extractAnotherNationalSignificantNumber`,value:function(e,t,n){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,n);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var r=f(e,this.metadata),i=r.nationalPrefix,a=r.nationalNumber,o=r.carrierCode;if(a!==t)return this.onExtractedNationalNumber(i,o,a,e,n),!0}}},{key:`onExtractedNationalNumber`,value:function(e,t,n,r,i){var a,o,s=r.lastIndexOf(n);if(s>=0&&s===r.length-n.length){o=!0;var c=r.slice(0,s);c!==e&&(a=c)}i({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:n,nationalSignificantNumberMatchesInput:o,complexPrefixBeforeNationalSignificantNumber:a}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:`reExtractNationalSignificantNumber`,value:function(e){if(this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,function(t){return e.update(t)}))return!0;if(this.extractIddPrefix(e)||this.fixMissingPlus(e))return this.extractCallingCodeAndNationalSignificantNumber(e),!0}},{key:`extractIddPrefix`,value:function(e){var t=e.international,n=e.IDDPrefix,r=e.digits,i=e.nationalSignificantNumber;if(!(t||n)){var a=re(r,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(a!==void 0&&a!==r)return e.update({IDDPrefix:r.slice(0,r.length-a.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0}}},{key:`fixMissingPlus`,value:function(e){if(!e.international){var t=d(e.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode,r=t.number;if(n)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:n}),!0}}},{key:`startInternationalNumber`,value:function(e,t){var n=t.country,r=t.callingCode;e.startInternationalNumber(n,r),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:`extractCallingCodeAndNationalSignificantNumber`,value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),function(t){return e.update(t)})}}]),e}();function Ge(e){var t=e.search(Ve);if(!(t<0)){e=e.slice(t);var n;return e[0]===`+`&&(n=!0,e=e.slice(1)),e=e.replace(He,``),n&&(e=`+`+e),e}}function Ke(e){var t=Ge(e)||``;return t[0]===`+`?[t.slice(1),!0]:[t]}function qe(e){var t=Ke(e),n=G(t,2),r=n[0],i=n[1];return Be.test(r)||(r=``),[r,i]}function Je(e,t){return Qe(e)||Ze(e,t)||Xe(e,t)||Ye()}function Ye(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xe(e,t){if(e){if(typeof e==`string`)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}}function J(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(e){a=!0,s=e}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function Qe(e){if(Array.isArray(e))return e}function Y(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}var Z=!1,Q=function(){function e(n,r){Y(this,e),this.metadata=new t(r);var i=this.getCountryAndCallingCode(n),a=Je(i,2),o=a[0],s=a[1];this.defaultCountry=o,this.defaultCallingCode=s,this.reset()}return $e(e,[{key:`getCountryAndCallingCode`,value:function(e){var t,n;return e&&(g(e)?(t=e.defaultCountry,n=e.defaultCallingCode):t=e),t&&!this.metadata.hasCountry(t)&&(t=void 0),n&&Z&&this.metadata.isNonGeographicCallingCode(n)&&(t=`001`),[t,n]}},{key:`input`,value:function(e){var t=this.parser.input(e,this.state),n=t.digits,r=t.justLeadingPlus;if(r)this.formattedOutput=`+`;else if(n){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var i;if(this.metadata.hasSelectedNumberingPlan()&&(i=this.formatter.format(n,this.state)),i===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(i=this.formatter.format(a,this.state))}this.formattedOutput=i?this.getFullNumber(i):this.getNonFormattedNumber()}return this.formattedOutput}},{key:`reset`,value:function(){var e=this;return this.state=new ce({onCountryChange:function(t){e.country=t},onCallingCodeChange:function(t,n){e.metadata.selectNumberingPlan(n,t),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new Me({state:this.state,metadata:this.metadata}),this.parser=new We({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput=``,this}},{key:`isInternational`,value:function(){return this.state.international}},{key:`getCallingCode`,value:function(){if(this.isInternational())return this.state.callingCode}},{key:`getCountryCallingCode`,value:function(){return this.getCallingCode()}},{key:`getCountry`,value:function(){var e=this.state.digits;if(e)return this._getCountry()}},{key:`_getCountry`,value:function(){var e=this.state.country;if(!(Z&&e===`001`))return e}},{key:`determineTheCountryIfNeeded`,value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:`getFullNumber`,value:function(e){var t=this;if(this.isInternational()){var n=function(e){return t.formatter.getInternationalPrefixBeforeCountryCallingCode(t.state,{spacing:!!e})+e},r=this.state.callingCode;return n(r?e?`${r} ${e}`:r:`${this.state.getDigitsWithoutInternationalPrefix()}`)}return e}},{key:`getNonFormattedNationalNumberWithPrefix`,value:function(){var e=this.state,t=e.nationalSignificantNumber,n=e.complexPrefixBeforeNationalSignificantNumber,r=e.nationalPrefix,i=t,a=n||r;return a&&(i=a+i),i}},{key:`getNonFormattedNumber`,value:function(){var e=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(e?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:`getNonFormattedTemplate`,value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,w)}},{key:`isCountryCallingCodeAmbiguous`,value:function(){var e=this.state.callingCode,t=this.metadata.getCountryCodesForCallingCode(e);return t&&t.length>1}},{key:`determineTheCountry`,value:function(){this.state.setCountry(m(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:`getNumberValue`,value:function(){var e=this.state,t=e.digits,n=e.callingCode,r=e.country,i=e.nationalSignificantNumber;if(t){if(this.isInternational())return n?`+`+n+i:`+`+t;if(r||n){var a=r?this.metadata.countryCallingCode():n;return`+`+a+i}}}},{key:`getNumber`,value:function(){var e=this.state,n=e.nationalSignificantNumber,i=e.carrierCode,a=e.callingCode,o=this._getCountry();if(n&&!(!o&&!a)){if(o&&o===this.defaultCountry){var s=new t(this.metadata.metadata);s.selectNumberingPlan(o);var c=s.numberingPlan.callingCode(),l=this.metadata.getCountryCodesForCallingCode(c);if(l.length>1){var u=h(n,{countries:l,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});u&&(o=u)}}var d=new r(o||a,n,this.metadata.metadata);return i&&(d.carrierCode=i),d}}},{key:`isPossible`,value:function(){var e=this.getNumber();return e?e.isPossible():!1}},{key:`isValid`,value:function(){var e=this.getNumber();return e?e.isValid():!1}},{key:`getNationalNumber`,value:function(){return this.state.nationalSignificantNumber}},{key:`getChars`,value:function(){return(this.state.international?`+`:``)+this.state.digits}},{key:`getTemplate`,value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||``}}]),e}();function et(){return ie(oe,arguments)}function $(e){return Q.call(this,e,ee)}$.prototype=Object.create(Q.prototype,{}),$.prototype.constructor=$;var tt=o(ne());const nt=`US`;function rt({className:e,type:t,handleValueChange:n,...r}){let i=e=>{let t=e.target.value,r=new $(nt).input(t),i=r.replace(/[\s\-\(\)]/g,``);n(i)};return(0,tt.jsx)(`input`,{...r,type:`tel`,autoComplete:`off`,inputMode:`numeric`,title:`Please enter your phone number`,maxLength:14,className:l(`border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,`focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]`,`aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive`,e),onChange:i})}export{rt as PhoneInput,et as isValidPhoneNumber};