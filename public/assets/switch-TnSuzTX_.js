import{Primitive as e,__toESM as t,cn as n,composeEventHandlers as r,createContextScope as i,require_jsx_runtime as a,require_react as o,useComposedRefs as s,useControllableState as c,usePrevious as l,useSize as u}from"./index-BpPvn16n.js";var d=t(o(),1),f=t(a(),1),p=`Switch`,[m,h]=i(p),[g,_]=m(p),v=d.forwardRef((t,n)=>{let{__scopeSwitch:i,name:a,checked:o,defaultChecked:l,required:u,disabled:m,value:h=`on`,onCheckedChange:_,form:v,...y}=t,[b,x]=d.useState(null),w=s(n,e=>x(e)),T=d.useRef(!1),E=b?v||!!b.closest(`form`):!0,[D,O]=c({prop:o,defaultProp:l??!1,onChange:_,caller:p});return(0,f.jsxs)(g,{scope:i,checked:D,disabled:m,children:[(0,f.jsx)(e.button,{type:`button`,role:`switch`,"aria-checked":D,"aria-required":u,"data-state":C(D),"data-disabled":m?``:void 0,disabled:m,value:h,...y,ref:w,onClick:r(t.onClick,e=>{O(e=>!e),E&&(T.current=e.isPropagationStopped(),T.current||e.stopPropagation())})}),E&&(0,f.jsx)(S,{control:b,bubbles:!T.current,name:a,value:h,checked:D,required:u,disabled:m,form:v,style:{transform:`translateX(-100%)`}})]})});v.displayName=p;var y=`SwitchThumb`,b=d.forwardRef((t,n)=>{let{__scopeSwitch:r,...i}=t,a=_(y,r);return(0,f.jsx)(e.span,{"data-state":C(a.checked),"data-disabled":a.disabled?``:void 0,...i,ref:n})});b.displayName=y;var x=`SwitchBubbleInput`,S=d.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{let o=d.useRef(null),c=s(o,a),p=l(n),m=u(t);return d.useEffect(()=>{let e=o.current;if(!e)return;let t=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(t,`checked`),a=i.set;if(p!==n&&a){let t=new Event(`click`,{bubbles:r});a.call(e,n),e.dispatchEvent(t)}},[p,n,r]),(0,f.jsx)(`input`,{type:`checkbox`,"aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...m,position:`absolute`,pointerEvents:`none`,opacity:0,margin:0}})});S.displayName=x;function C(e){return e?`checked`:`unchecked`}var w=v,T=b;function E({className:e,...t}){return(0,f.jsx)(w,{"data-slot":`switch`,className:n(`peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50`,e),...t,children:(0,f.jsx)(T,{"data-slot":`switch-thumb`,className:n(`bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0`)})})}export{E as Switch};