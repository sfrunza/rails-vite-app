import{aq as ct,ar as ht,as as mt,at as dt,au as F,av as gt,aw as yt,ax as y,ay as pt,az as R,aA as Nt,aB as Ct,aC as I,aD as bt,aE as $,aF as vt,aG as xt,aH as Pt,aI as St,aJ as wt,aK as At,j as l,g as O,aL as Tt,aM as Ft,A as et,B as nt,L as at,t as rt,aN as it,aO as It,r as M,aP as _t}from"./index-Bugo2kCX.js";import{C as L,a as U,b as B,d as W}from"./card-B7f8wYMQ.js";import{S as jt}from"./setting-page-wrapper-C0IX4u7Y.js";import{u as ot,F as lt,a as p,b as N,c as C,e as b,f as x,s as Et,o as ut,g as P,i as kt}from"./zod-CMXYR7Wv.js";import{I as S}from"./input-suo2QlKj.js";import"./label-DqfnIeOw.js";function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?G(Object(t),!0).forEach(function(a){Dt(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Dt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ot(){var e=ct(arguments),n=e.text,t=e.options,a=e.metadata;t=H(H({},t),{},{extract:!1});var r=ht(n,t,a);return r&&r.isValid()||!1}function Rt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $t(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Mt(e,n,t){return n&&$t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Lt=function(){function e(n){var t=n.onCountryChange,a=n.onCallingCodeChange;Rt(this,e),this.onCountryChange=t,this.onCallingCodeChange=a}return Mt(e,[{key:"reset",value:function(t){var a=t.country,r=t.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(a,r)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(t){for(var a=0,r=Object.keys(t);a<r.length;a++){var i=r[a];this[i]=t[i]}}},{key:"initCountryAndCallingCode",value:function(t,a){this.setCountry(t),this.setCallingCode(a)}},{key:"setCountry",value:function(t){this.country=t,this.onCountryChange(t)}},{key:"setCallingCode",value:function(t){this.callingCode=t,this.onCallingCodeChange(t,this.country)}},{key:"startInternationalNumber",value:function(t,a){this.international=!0,this.initCountryAndCallingCode(t,a)}},{key:"appendDigits",value:function(t){this.digits+=t}},{key:"appendNationalSignificantNumberDigits",value:function(t){this.nationalSignificantNumber+=t}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}]),e}();function Ut(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=Bt(e))||n){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bt(e,n){if(e){if(typeof e=="string")return V(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V(e,n)}}function V(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}var m="x",j=new RegExp(m);function T(e,n){if(n<1)return"";for(var t="";n>1;)n&1&&(t+=e),n>>=1,e+=e;return t+e}function Y(e,n){return e[n]===")"&&n++,Wt(e.slice(0,n))}function Wt(e){for(var n=[],t=0;t<e.length;)e[t]==="("?n.push(t):e[t]===")"&&n.pop(),t++;var a=0,r="";n.push(e.length);for(var i=0,o=n;i<o.length;i++){var u=o[i];r+=e.slice(a,u),a=u+1}return r}function Gt(e,n,t){for(var a=Ut(t.split("")),r;!(r=a()).done;){var i=r.value;if(e.slice(n+1).search(j)<0)return;n=e.search(j),e=e.replace(j,i)}return[e,n]}function Ht(e,n,t){var a=t.metadata,r=t.shouldTryNationalPrefixFormattingRule,i=t.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(n.pattern(),")$"));if(o.test(e.nationalSignificantNumber))return Yt(e,n,{metadata:a,shouldTryNationalPrefixFormattingRule:r,getSeparatorAfterNationalPrefix:i})}function Vt(e,n){return mt(e,n)==="IS_POSSIBLE"}function Yt(e,n,t){var a=t.metadata,r=t.shouldTryNationalPrefixFormattingRule,i=t.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,r(n)){var o=z(e,n,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:i,metadata:a});if(o)return o}return z(e,n,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:i,metadata:a})}function z(e,n,t){var a=t.metadata,r=t.useNationalPrefixFormattingRule,i=t.getSeparatorAfterNationalPrefix,o=dt(e.nationalSignificantNumber,n,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:r,metadata:a});if(r||(e.nationalPrefix?o=e.nationalPrefix+i(n)+o:e.complexPrefixBeforeNationalSignificantNumber&&(o=e.complexPrefixBeforeNationalSignificantNumber+" "+o)),zt(o,e))return o}function zt(e,n){return F(e)===n.getNationalDigits()}function Xt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function qt(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Jt(e,n,t){return n&&qt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Kt=function(){function e(){Xt(this,e)}return Jt(e,[{key:"parse",value:function(t){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(t),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var a=this.context[0],r=a.branches,i=a.instructions;if(r)return{op:"|",args:r.concat([E(i)])};if(i.length===0)throw new Error("Pattern is required");return i.length===1?i[0]:i}},{key:"startContext",value:function(t){this.context.push(t)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(t){if(!t)throw new Error("Pattern is required");var a=t.match(te);if(!a){if(Zt.test(t))throw new Error("Illegal characters found in a pattern: ".concat(t));this.getContext().instructions=this.getContext().instructions.concat(t.split(""));return}var r=a[1],i=t.slice(0,a.index),o=t.slice(a.index+r.length);switch(r){case"(?:":i&&this.parsePattern(i),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(i&&this.parsePattern(i),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var u=this.getContext(),s=u.branches;s.push(E(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:s});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(i&&this.parsePattern(i),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(E(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":i&&this.parsePattern(i),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:Qt(i)});break;default:throw new Error("Unknown operator: ".concat(r))}o&&this.parsePattern(o)}}]),e}();function Qt(e){for(var n=[],t=0;t<e.length;){if(e[t]==="-"){if(t===0||t===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var a=e[t-1].charCodeAt(0)+1,r=e[t+1].charCodeAt(0)-1,i=a;i<=r;)n.push(String.fromCharCode(i)),i++}else n.push(e[t]);t++}return n}var Zt=/[\(\)\[\]\?\:\|]/,te=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function E(e){return e.length===1?e[0]:e}function X(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=ee(e))||n){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ee(e,n){if(e){if(typeof e=="string")return q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q(e,n)}}function q(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function ne(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ae(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function re(e,n,t){return n&&ae(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ie=function(){function e(n){ne(this,e),this.matchTree=new Kt().parse(n)}return re(e,[{key:"match",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=a.allowOverflow;if(!t)throw new Error("String is required");var i=k(t.split(""),this.matchTree,!0);if(i&&i.match&&delete i.matchedChars,!(i&&i.overflow&&!r))return i}}]),e}();function k(e,n,t){if(typeof n=="string"){var a=e.join("");return n.indexOf(a)===0?e.length===n.length?{match:!0,matchedChars:e}:{partialMatch:!0}:a.indexOf(n)===0?t&&e.length>n.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,n.length)}:void 0}if(Array.isArray(n)){for(var r=e.slice(),i=0;i<n.length;){var o=n[i],u=k(r,o,t&&i===n.length-1);if(u){if(u.overflow)return u;if(u.match){if(r=r.slice(u.matchedChars.length),r.length===0)return i===n.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(u.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(u,null,2)))}}else return;i++}return t?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-r.length)}}switch(n.op){case"|":for(var s,f=X(n.args),c;!(c=f()).done;){var d=c.value,h=k(e,d,t);if(h){if(h.overflow)return h;if(h.match)return{match:!0,matchedChars:h.matchedChars};if(h.partialMatch)s=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(h,null,2)))}}return s?{partialMatch:!0}:void 0;case"[]":for(var w=X(n.args),A;!(A=w()).done;){var v=A.value;if(e[0]===v)return e.length===1?{match:!0,matchedChars:e}:t?{overflow:!0}:{match:!0,matchedChars:[v]}}return;default:throw new Error("Unsupported instruction tree: ".concat(n))}}function J(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=oe(e))||n){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oe(e,n){if(e){if(typeof e=="string")return K(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return K(e,n)}}function K(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function le(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ue(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function se(e,n,t){return n&&ue(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var D="9",fe=15,ce=T(D,fe),he=/[- ]/,me=function(){return/\[([^\[\]])*\]/g},de=function(){return/\d(?=[^,}][^,}])/g},ge=new RegExp("["+y+"]*\\$1["+y+"]*(\\$\\d["+y+"]*)*$"),Q=3,ye=function(){function e(n){n.state;var t=n.metadata;le(this,e),this.metadata=t,this.resetFormat()}return se(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(t,a){this.resetFormat(),t?(this.isNANP=t.callingCode()==="1",this.matchingFormats=t.formats(),a.nationalSignificantNumber&&this.narrowDownMatchingFormats(a)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(t,a){var r=this;if(Vt(a.nationalSignificantNumber,this.metadata))for(var i=J(this.matchingFormats),o;!(o=i()).done;){var u=o.value,s=Ht(a,u,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(c){return r.shouldTryNationalPrefixFormattingRule(c,{international:a.international,nationalPrefix:a.nationalPrefix})},getSeparatorAfterNationalPrefix:function(c){return r.getSeparatorAfterNationalPrefix(c)}});if(s)return this.resetFormat(),this.chosenFormat=u,this.setNationalNumberTemplate(s.replace(/\d/g,m),a),this.populatedNationalNumberTemplate=s,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(m),s}return this.formatNationalNumberWithNextDigits(t,a)}},{key:"formatNationalNumberWithNextDigits",value:function(t,a){var r=this.chosenFormat,i=this.chooseFormat(a);if(i)return i===r?this.formatNextNationalNumberDigits(t):this.formatNextNationalNumberDigits(a.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(t){var a=this,r=t.nationalSignificantNumber,i=t.nationalPrefix,o=t.international,u=r,s=u.length-Q;s<0&&(s=0),this.matchingFormats=this.matchingFormats.filter(function(f){return a.formatSuits(f,o,i)&&a.formatMatches(f,u,s)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(t,a,r){return!(r&&!t.usesNationalPrefix()&&!t.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!a&&!r&&t.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(t,a,r){var i=t.leadingDigitsPatterns().length;if(i===0)return!0;r=Math.min(r,i-1);var o=t.leadingDigitsPatterns()[r];if(a.length<Q)try{return new ie(o).match(a,{allowOverflow:!0})!==void 0}catch(u){return console.error(u),!0}return new RegExp("^(".concat(o,")")).test(a)}},{key:"getFormatFormat",value:function(t,a){return a?t.internationalFormat():t.format()}},{key:"chooseFormat",value:function(t){for(var a=this,r=function(){var f=o.value;return a.chosenFormat===f?"break":ge.test(a.getFormatFormat(f,t.international))?a.createTemplateForFormat(f,t)?(a.chosenFormat=f,"break"):(a.matchingFormats=a.matchingFormats.filter(function(c){return c!==f}),"continue"):"continue"},i=J(this.matchingFormats.slice()),o;!(o=i()).done;){var u=r();if(u==="break")break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(t,a){if(!(t.pattern().indexOf("|")>=0)){var r=this.getTemplateForFormat(t,a);if(r)return this.setNationalNumberTemplate(r,a),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(t){return this.isNANP||t&&t.nationalPrefixFormattingRule()&&he.test(t.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(t,a){var r=t.IDDPrefix,i=t.missingPlus;return r?a&&a.spacing===!1?r:r+" ":i?"":"+"}},{key:"getTemplate",value:function(t){if(this.template){for(var a=-1,r=0,i=t.international?this.getInternationalPrefixBeforeCountryCallingCode(t,{spacing:!1}):"";r<i.length+t.getDigitsWithoutInternationalPrefix().length;)a=this.template.indexOf(m,a+1),r++;return Y(this.template,a+1)}}},{key:"setNationalNumberTemplate",value:function(t,a){this.nationalNumberTemplate=t,this.populatedNationalNumberTemplate=t,this.populatedNationalNumberTemplatePosition=-1,a.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(a).replace(/[\d\+]/g,m)+T(m,a.callingCode.length)+" "+t:this.template=t}},{key:"getTemplateForFormat",value:function(t,a){var r=a.nationalSignificantNumber,i=a.international,o=a.nationalPrefix,u=a.complexPrefixBeforeNationalSignificantNumber,s=t.pattern();s=s.replace(me(),"\\d").replace(de(),"\\d");var f=ce.match(s)[0];if(!(r.length>f.length)){var c=new RegExp("^"+s+"$"),d=r.replace(/\d/g,D);c.test(d)&&(f=d);var h=this.getFormatFormat(t,i),w;if(this.shouldTryNationalPrefixFormattingRule(t,{international:i,nationalPrefix:o})){var A=h.replace(gt,t.nationalPrefixFormattingRule());if(F(t.nationalPrefixFormattingRule())===(o||"")+F("$1")&&(h=A,w=!0,o))for(var v=o.length;v>0;)h=h.replace(/\d/,m),v--}var g=f.replace(new RegExp(s),h).replace(new RegExp(D,"g"),m);return w||(u?g=T(m,u.length)+" "+g:o&&(g=T(m,o.length)+this.getSeparatorAfterNationalPrefix(t)+g)),i&&(g=yt(g)),g}}},{key:"formatNextNationalNumberDigits",value:function(t){var a=Gt(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,t);if(!a){this.resetFormat();return}return this.populatedNationalNumberTemplate=a[0],this.populatedNationalNumberTemplatePosition=a[1],Y(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(t,a){var r=a.international,i=a.nationalPrefix;if(t.nationalPrefixFormattingRule()){var o=t.usesNationalPrefix();if(o&&i||!o&&!r)return!0}}}]),e}();function st(e,n){return be(e)||Ce(e,n)||Ne(e,n)||pe()}function pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ne(e,n){if(e){if(typeof e=="string")return Z(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z(e,n)}}function Z(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function Ce(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a=[],r=!0,i=!1,o,u;try{for(t=t.call(e);!(r=(o=t.next()).done)&&(a.push(o.value),!(n&&a.length===n));r=!0);}catch(s){i=!0,u=s}finally{try{!r&&t.return!=null&&t.return()}finally{if(i)throw u}}return a}}function be(e){if(Array.isArray(e))return e}function ve(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function xe(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Pe(e,n,t){return n&&xe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Se="["+y+I+"]+",we=new RegExp("^"+Se+"$","i"),Ae="(?:["+bt+"]["+y+I+"]*|["+y+I+"]+)",Te=new RegExp("[^"+y+I+"]+.*$"),Fe=/[^\d\[\]]/,Ie=function(){function e(n){var t=n.defaultCountry,a=n.defaultCallingCode,r=n.metadata,i=n.onNationalSignificantNumberChange;ve(this,e),this.defaultCountry=t,this.defaultCallingCode=a,this.metadata=r,this.onNationalSignificantNumberChange=i}return Pe(e,[{key:"input",value:function(t,a){var r=Ee(t),i=st(r,2),o=i[0],u=i[1],s=F(o),f;return u&&(a.digits||(a.startInternationalNumber(),s||(f=!0))),s&&this.inputDigits(s,a),{digits:s,justLeadingPlus:f}}},{key:"inputDigits",value:function(t,a){var r=a.digits,i=r.length<3&&r.length+t.length>=3;if(a.appendDigits(t),i&&this.extractIddPrefix(a),this.isWaitingForCountryCallingCode(a)){if(!this.extractCountryCallingCode(a))return}else a.appendNationalSignificantNumberDigits(t);a.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(a.getNationalDigits(),function(o){return a.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(t){var a=t.international,r=t.callingCode;return a&&!r}},{key:"extractCountryCallingCode",value:function(t){var a=pt("+"+t.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=a.countryCallingCode,i=a.number;if(r)return t.setCallingCode(r),t.update({nationalSignificantNumber:i}),!0}},{key:"reset",value:function(t){if(t){this.hasSelectedNumberingPlan=!0;var a=t._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=a&&Fe.test(a)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(t,a){if(this.hasSelectedNumberingPlan){var r=R(t,this.metadata),i=r.nationalPrefix,o=r.nationalNumber,u=r.carrierCode;if(o!==t)return this.onExtractedNationalNumber(i,u,o,t,a),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(t,a,r){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(t,r);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var i=R(t,this.metadata),o=i.nationalPrefix,u=i.nationalNumber,s=i.carrierCode;if(u!==a)return this.onExtractedNationalNumber(o,s,u,t,r),!0}}},{key:"onExtractedNationalNumber",value:function(t,a,r,i,o){var u,s,f=i.lastIndexOf(r);if(f>=0&&f===i.length-r.length){s=!0;var c=i.slice(0,f);c!==t&&(u=c)}o({nationalPrefix:t,carrierCode:a,nationalSignificantNumber:r,nationalSignificantNumberMatchesInput:s,complexPrefixBeforeNationalSignificantNumber:u}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(t){if(this.extractAnotherNationalSignificantNumber(t.getNationalDigits(),t.nationalSignificantNumber,function(a){return t.update(a)}))return!0;if(this.extractIddPrefix(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0;if(this.fixMissingPlus(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0}},{key:"extractIddPrefix",value:function(t){var a=t.international,r=t.IDDPrefix,i=t.digits;if(t.nationalSignificantNumber,!(a||r)){var o=Nt(i,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==i)return t.update({IDDPrefix:i.slice(0,i.length-o.length)}),this.startInternationalNumber(t,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(t){if(!t.international){var a=Ct(t.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=a.countryCallingCode;if(a.number,r)return t.update({missingPlus:!0}),this.startInternationalNumber(t,{country:t.country,callingCode:r}),!0}}},{key:"startInternationalNumber",value:function(t,a){var r=a.country,i=a.callingCode;t.startInternationalNumber(r,i),t.nationalSignificantNumber&&(t.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(t){this.extractCountryCallingCode(t)&&this.extractNationalSignificantNumber(t.getNationalDigits(),function(a){return t.update(a)})}}]),e}();function _e(e){var n=e.search(Ae);if(!(n<0)){e=e.slice(n);var t;return e[0]==="+"&&(t=!0,e=e.slice(1)),e=e.replace(Te,""),t&&(e="+"+e),e}}function je(e){var n=_e(e)||"";return n[0]==="+"?[n.slice(1),!0]:[n]}function Ee(e){var n=je(e),t=st(n,2),a=t[0],r=t[1];return we.test(a)||(a=""),[a,r]}function ke(e,n){return $e(e)||Re(e,n)||Oe(e,n)||De()}function De(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oe(e,n){if(e){if(typeof e=="string")return tt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tt(e,n)}}function tt(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function Re(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a=[],r=!0,i=!1,o,u;try{for(t=t.call(e);!(r=(o=t.next()).done)&&(a.push(o.value),!(n&&a.length===n));r=!0);}catch(s){i=!0,u=s}finally{try{!r&&t.return!=null&&t.return()}finally{if(i)throw u}}return a}}function $e(e){if(Array.isArray(e))return e}function Me(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Le(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ue(e,n,t){return n&&Le(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ft=function(){function e(n,t){Me(this,e),this.metadata=new $(t);var a=this.getCountryAndCallingCode(n),r=ke(a,2),i=r[0],o=r[1];this.defaultCountry=i,this.defaultCallingCode=o,this.reset()}return Ue(e,[{key:"getCountryAndCallingCode",value:function(t){var a,r;return t&&(vt(t)?(a=t.defaultCountry,r=t.defaultCallingCode):a=t),a&&!this.metadata.hasCountry(a)&&(a=void 0),[a,r]}},{key:"input",value:function(t){var a=this.parser.input(t,this.state),r=a.digits,i=a.justLeadingPlus;if(i)this.formattedOutput="+";else if(r){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(r,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var u=this.state.getNationalDigits();u&&(o=this.formatter.format(u,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var t=this;return this.state=new Lt({onCountryChange:function(r){t.country=r},onCallingCodeChange:function(r,i){t.metadata.selectNumberingPlan(i,r),t.formatter.reset(t.metadata.numberingPlan,t.state),t.parser.reset(t.metadata.numberingPlan)}}),this.formatter=new ye({state:this.state,metadata:this.metadata}),this.parser=new Ie({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){t.determineTheCountryIfNeeded(),t.formatter.reset(t.metadata.numberingPlan,t.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var t=this.state.digits;if(t)return this._getCountry()}},{key:"_getCountry",value:function(){var t=this.state.country;return t}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(t){var a=this;if(this.isInternational()){var r=function(u){return a.formatter.getInternationalPrefixBeforeCountryCallingCode(a.state,{spacing:!!u})+u},i=this.state.callingCode;return r(i?t?"".concat(i," ").concat(t):i:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return t}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var t=this.state,a=t.nationalSignificantNumber,r=t.complexPrefixBeforeNationalSignificantNumber,i=t.nationalPrefix,o=a,u=r||i;return u&&(o=u+o),o}},{key:"getNonFormattedNumber",value:function(){var t=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(t?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var t=this.getNonFormattedNumber();if(t)return t.replace(/[\+\d]/g,m)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var t=this.state.callingCode,a=this.metadata.getCountryCodesForCallingCode(t);return a&&a.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(xt(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var t=this.state,a=t.digits,r=t.callingCode,i=t.country,o=t.nationalSignificantNumber;if(a){if(this.isInternational())return r?"+"+r+o:"+"+a;if(i||r){var u=i?this.metadata.countryCallingCode():r;return"+"+u+o}}}},{key:"getNumber",value:function(){var t=this.state,a=t.nationalSignificantNumber,r=t.carrierCode,i=t.callingCode,o=this._getCountry();if(a&&!(!o&&!i)){if(o&&o===this.defaultCountry){var u=new $(this.metadata.metadata);u.selectNumberingPlan(o);var s=u.numberingPlan.callingCode(),f=this.metadata.getCountryCodesForCallingCode(s);if(f.length>1){var c=Pt(a,{countries:f,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});c&&(o=c)}}var d=new St(o||i,a,this.metadata.metadata);return r&&(d.carrierCode=r),d}}},{key:"isPossible",value:function(){var t=this.getNumber();return t?t.isPossible():!1}},{key:"isValid",value:function(){var t=this.getNumber();return t?t.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}]),e}();function Be(){return wt(Ot,arguments)}function _(e){return ft.call(this,e,At)}_.prototype=Object.create(ft.prototype,{});_.prototype.constructor=_;const We="US";function Ge({className:e,type:n,handleValueChange:t,...a}){const r=i=>{const o=i.target.value,s=new _(We).input(o).replace(/[\s\-\(\)]/g,"");t(s)};return l.jsx("input",{...a,type:"tel",autoComplete:"off",inputMode:"numeric",title:"Please enter your phone number",maxLength:14,className:O("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),onChange:r})}const He=ut({company_name:P(),company_address:P(),company_phone:P().refine(e=>Be(e,"US"),{message:"Invalid phone number"}),company_email:P().email(),company_website:P()});function Ve({data:e}){const[n,{isLoading:t}]=Tt(),a=ot({resolver:Et(He),defaultValues:{company_name:e.company_name??"",company_address:e.company_address??"",company_phone:e.company_phone??"",company_email:e.company_email??"",company_website:e.company_website??""}});async function r(i){const o=await n({data:i}).unwrap();o&&(rt.success("Changes saved"),a.reset({...o}))}return l.jsx(lt,{...a,children:l.jsxs("form",{onSubmit:a.handleSubmit(r),className:"space-y-6",children:[l.jsx(p,{control:a.control,name:"company_name",render:({field:i})=>l.jsxs(N,{children:[l.jsx(C,{children:"Company name"}),l.jsx(b,{children:l.jsx(S,{...i,autoComplete:"off"})}),l.jsx(x,{})]})}),l.jsx(p,{control:a.control,name:"company_address",render:({field:i})=>l.jsxs(N,{children:[l.jsx(C,{children:"Company address"}),l.jsx(b,{children:l.jsx(S,{...i,autoComplete:"off"})}),l.jsx(x,{})]})}),l.jsx(p,{control:a.control,name:"company_phone",render:({field:i})=>l.jsxs(N,{children:[l.jsx(C,{children:"Company phone"}),l.jsx(b,{children:l.jsx(Ge,{...i,value:Ft(i.value??""),handleValueChange:i.onChange})}),l.jsx(x,{})]})}),l.jsx(p,{control:a.control,name:"company_email",render:({field:i})=>l.jsxs(N,{children:[l.jsx(C,{children:"Company email"}),l.jsx(b,{children:l.jsx(S,{...i,autoComplete:"off"})}),l.jsx(x,{})]})}),l.jsx(p,{control:a.control,name:"company_website",render:({field:i})=>l.jsxs(N,{children:[l.jsx(C,{children:"Company website"}),l.jsx(b,{children:l.jsx(S,{...i,autoComplete:"off"})}),l.jsx(x,{})]})}),l.jsx(et,{}),l.jsx("div",{className:O("flex transition-opacity duration-500",{"invisible opacity-0":!a.formState.isDirty,"visible opacity-100":a.formState.isDirty}),children:l.jsxs("div",{className:"flex min-h-9 w-full gap-3 justify-end",children:[l.jsx(nt,{type:"button",variant:"outline",onClick:()=>a.reset(),children:"Cancel"}),l.jsx(at,{type:"submit",disabled:t,loading:t,children:"Save changes"})]})})]})})}ut({image:kt(File).nullable()});function Ye(e){const n=e.target.files&&e.target.files[0],t=n?URL.createObjectURL(n):"";return{file:n,displayUrl:t}}function ze(){const{data:e}=it(),[n,{isLoading:t}]=It(),[a,r]=M.useState(null),i=ot({defaultValues:{image:null}});async function o(u){await n({image:u.image}).unwrap(),rt.success("Changes saved"),i.reset()}return M.useEffect(()=>{e&&r(e.company_logo)},[e]),l.jsx(lt,{...i,children:l.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[l.jsx(p,{control:i.control,name:"image",render:({field:{value:u,onChange:s,...f}})=>l.jsxs(N,{children:[l.jsx(C,{children:"Logo"}),l.jsx(b,{children:l.jsx(S,{...f,placeholder:"Image",type:"file",accept:"image/png, image/jpeg",multiple:!1,onChange:c=>{const{file:d,displayUrl:h}=Ye(c);r(h),s(d)}})})]})}),l.jsx("div",{className:"flex justify-center items-center",children:a&&l.jsx("div",{className:"relative size-40 p-1 rounded-md border-2 border-dashed",children:l.jsx("img",{src:a,alt:"Company logo",className:"h-full w-full rounded-md object-contain"})})}),l.jsx(et,{}),l.jsx("div",{className:O("flex transition-opacity duration-500",{"invisible opacity-0":!i.formState.isDirty,"visible opacity-100":i.formState.isDirty}),children:l.jsxs("div",{className:"flex min-h-9 w-full gap-3 justify-end",children:[l.jsx(nt,{type:"button",variant:"outline",onClick:()=>{r((e==null?void 0:e.company_logo)||null),i.reset()},children:"Cancel"}),l.jsx(at,{type:"submit",disabled:t,loading:t,children:"Save changes"})]})})]})})}function Xe(){const{data:e,isLoading:n}=it();return l.jsx(jt,{children:n?l.jsx("div",{className:"flex h-96 max-w-xl items-center justify-center",children:l.jsx(_t,{})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs(L,{className:"max-w-xl",children:[l.jsx(U,{children:l.jsx(B,{children:"Company Information"})}),l.jsx(W,{children:l.jsx(Ve,{data:e})})]}),l.jsxs(L,{className:"max-w-xl",children:[l.jsx(U,{children:l.jsx(B,{children:"Branding"})}),l.jsx(W,{children:l.jsx(ze,{})})]})]})})}const en=Xe;export{en as Component};
