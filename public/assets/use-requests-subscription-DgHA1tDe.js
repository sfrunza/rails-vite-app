import{__toESM as e,requestsApi as t,require_react as n,useAppDispatch as r}from"./index-BpPvn16n.js";import{cable_default as i}from"./cable-BpiuPVb-.js";var a=e(n());function o(){let e=r(),n=(0,a.useRef)(null);(0,a.useEffect)(()=>(n.current=i.subscriptions.create({channel:`RequestsChannel`},{connected(){console.log(`Connected to RequestsChannel`)},disconnected(){console.log(`Disconnected from RequestsChannel`)},received(n){console.log(`RequestsChannel received update`,n),e(t.util.invalidateTags([{type:`Request`,id:`LIST`},{type:`StatusCounts`},{type:`CustomerRequest`}]))}}),()=>{n.current&&n.current.unsubscribe()}),[e])}export{o as useRequestsSubscription};