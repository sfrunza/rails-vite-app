import{u as p,a as g,b as x,j as a,L as h,c as f,h as j}from"./index-Dm7BQT7l.js";import{P as b}from"./password-input-B14rQU0v.js";import{C as w,a as L,b as C,c as N,d as v,e as k}from"./card-V1I8AuRO.js";import{I as P}from"./input-DQgfCGN5.js";import{L as n}from"./label-DlqQ0M1t.js";function _(){const e=p(),[l]=g(),[d,{isLoading:s}]=x(),o=l.get("return_to");function c(t){t.preventDefault();const i=t.currentTarget,m=i.email_address.value,u=i.password.value;d({email_address:m,password:u}).unwrap().then(r=>{if(o){e(o);return}switch(r.user.role){case"admin":e("/crm",{replace:!0});break;case"manager":e("/crm",{replace:!0});break;case"customer":e("/account",{replace:!0});break;default:e("/",{replace:!0});break}}).catch(r=>{j(r)})}return a.jsxs(w,{className:"mx-auto w-full",children:[a.jsxs(L,{children:[a.jsx(C,{className:"text-2xl",children:"Login"}),a.jsx(N,{children:"Enter your email below to login to your account."})]}),a.jsx(v,{children:a.jsxs("form",{className:"grid gap-4",onSubmit:c,children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(n,{htmlFor:"email_address",children:"Email"}),a.jsx(P,{id:"email_address",type:"email",placeholder:"m@example.com",defaultValue:"frunza.sergiu3@gmail.com",required:!0,autoComplete:"email",name:"email_address"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(n,{htmlFor:"password",children:"Password"}),a.jsx(b,{id:"password",defaultValue:"111111",required:!0})]}),a.jsx(k,{className:"border-t p-0",children:a.jsx(h,{loading:s,disabled:s,className:"w-full",type:"submit",children:"Login"})}),a.jsx("div",{className:"text-sm",children:a.jsx(f,{to:"/auth/forgot-password",className:"ml-auto inline-block text-sm underline",children:"Forgot your password?"})})]})})]})}function y(){return a.jsx(_,{})}const D=y;export{D as Component};
