import{CalendarWithRates as e}from"./calendar-with-rates-BXHlt0pW.js";import"./chevron-left-zJdJqyR0.js";import"./chevron-right-CRSgIC1I.js";import{Dialog as t,DialogContent as n,DialogDescription as r,DialogHeader as i,DialogTitle as a,Label as o,RadioGroup as s,RadioGroupItem as c,__toESM as l,format as u,handleApiError as d,hexToRgb as f,require_jsx_runtime as p,require_react as m,useGetRatesQuery as h,useUpdateCalendarRateMutation as g}from"./index-BpPvn16n.js";import{Card as _,CardContent as v,CardHeader as y,CardTitle as b}from"./card-D6e0mOnd.js";import{SettingPageWrapper as x}from"./setting-page-wrapper-B7I8Q1ot.js";var S=l(p());function C({isOpen:e,setIsOpen:l,calendarDayInfo:p}){let{data:m}=h(),[_]=g(),v=m?.filter(e=>e.enable);if(!e&&!p)return null;let{id:y,rate_id:b,is_blocked:x}=p,C=b??0,w=u(new Date(p.formatted_date+`T00:00:00`),`PPP`);function T(e,t){let n={};t===0?(n.is_blocked=!0,n.rate_id=null):(n.rate_id=t,n.is_blocked=!1),_({id:e,newData:n}).unwrap().catch(e=>{d(e)})}return(0,S.jsx)(t,{open:e,onOpenChange:l,children:(0,S.jsxs)(n,{className:`sm:max-w-xs`,children:[(0,S.jsxs)(i,{children:[(0,S.jsx)(a,{children:w}),(0,S.jsx)(r,{className:`hidden`})]}),(0,S.jsxs)(s,{defaultValue:x?`0`:C.toString(),onValueChange:e=>{T(y,parseInt(e))},className:`gap-4`,children:[v?.map((e,t)=>(0,S.jsxs)(o,{htmlFor:e.id.toString(),className:`flex w-full cursor-pointer items-center gap-6 rounded-md p-3 transition-all hover:ring`,style:{color:e.color,backgroundColor:`rgba(${f(e.color)}, 0.1)`},children:[(0,S.jsx)(c,{value:e.id.toString(),id:e.id.toString()}),(0,S.jsxs)(`span`,{className:`flex flex-grow items-center gap-2`,children:[e.name,(0,S.jsx)(`span`,{className:`size-2 rounded-full`,style:{backgroundColor:e.color}})]})]},t)),(0,S.jsx)(`div`,{className:`flex items-center space-x-2`,children:(0,S.jsxs)(o,{htmlFor:`0`,className:`flex w-full cursor-pointer items-center gap-6 rounded-md bg-foreground/20 p-3 text-foreground transition-all hover:ring`,children:[(0,S.jsx)(c,{value:`0`,id:`0`}),(0,S.jsxs)(`span`,{className:`flex flex-grow items-center gap-2`,children:[`Blocked`,(0,S.jsx)(`span`,{className:`size-2 rounded-full bg-black`})]})]})})]})]})})}var w=l(m());function T(){let e=[],t=new Date;for(let n=0;n<11;n++){let r=new Date(t.getFullYear(),t.getMonth()+n,1);e.push(r)}return e}function E(){let t=T(),[n,r]=(0,w.useState)(!1),[i,a]=(0,w.useState)();function o(e,t){r(!0),a(t)}return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(`div`,{className:`grid xl:grid-cols-2 gap-6 justify-items-center`,children:t.map((t,n)=>(0,S.jsx)(e,{calendarProps:{month:t,mode:`single`,disableNavigation:!0,hideNavigation:!0,showOutsideDays:!1,className:`rounded-xl border`},onSelectDate:o},n))}),i&&(0,S.jsx)(C,{isOpen:n,setIsOpen:r,calendarDayInfo:i})]})}function D(){return(0,S.jsx)(x,{children:(0,S.jsxs)(_,{className:`max-w-2xl`,children:[(0,S.jsx)(y,{children:(0,S.jsx)(b,{children:`Calendar Rates`})}),(0,S.jsx)(v,{children:(0,S.jsx)(E,{})})]})})}const O=D;export{O as Component};