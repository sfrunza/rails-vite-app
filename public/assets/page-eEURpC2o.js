import{PasswordInput as e}from"./password-input-D4CvYEgI.js";import{Input as t,Label as n,Link as r,LoadingButton as i,__toESM as a,handleApiError as o,require_jsx_runtime as s,useLoginMutation as c,useNavigate as l,useSearchParams as u}from"./index-BpPvn16n.js";import{Card as d,CardContent as f,CardDescription as p,CardFooter as m,CardHeader as h,CardTitle as g}from"./card-D6e0mOnd.js";var _=a(s());function v(){let a=l(),[s]=u(),[v,{isLoading:y}]=c(),b=s.get(`return_to`);function x(e){e.preventDefault();let t=e.currentTarget,n=t.email_address.value,r=t.password.value;v({email_address:n,password:r}).unwrap().then(e=>{if(b){a(b);return}switch(e.user.role){case`admin`:a(`/crm`,{replace:!0});break;case`manager`:a(`/crm`,{replace:!0});break;case`customer`:a(`/account`,{replace:!0});break;default:a(`/`,{replace:!0});break}}).catch(e=>{o(e)})}return(0,_.jsxs)(d,{className:`mx-auto w-full`,children:[(0,_.jsxs)(h,{children:[(0,_.jsx)(g,{className:`text-2xl`,children:`Login`}),(0,_.jsx)(p,{children:`Enter your email below to login to your account.`})]}),(0,_.jsx)(f,{children:(0,_.jsxs)(`form`,{className:`grid gap-4`,onSubmit:x,children:[(0,_.jsxs)(`div`,{className:`grid gap-2`,children:[(0,_.jsx)(n,{htmlFor:`email_address`,children:`Email`}),(0,_.jsx)(t,{id:`email_address`,type:`email`,placeholder:`m@example.com`,defaultValue:`frunza.sergiu3@gmail.com`,required:!0,autoComplete:`email`,name:`email_address`})]}),(0,_.jsxs)(`div`,{className:`grid gap-2`,children:[(0,_.jsx)(n,{htmlFor:`password`,children:`Password`}),(0,_.jsx)(e,{id:`password`,defaultValue:`111111`,required:!0})]}),(0,_.jsx)(m,{className:`border-t p-0`,children:(0,_.jsx)(i,{loading:y,disabled:y,className:`w-full`,type:`submit`,children:`Login`})}),(0,_.jsx)(`div`,{className:`text-sm`,children:(0,_.jsx)(r,{to:`/auth/forgot-password`,className:`ml-auto inline-block text-sm underline`,children:`Forgot your password?`})})]})})]})}function y(){return(0,_.jsx)(v,{})}const b=y;export{b as Component};